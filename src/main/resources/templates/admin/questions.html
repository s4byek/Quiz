<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: head(title='Вопросы')"></head>
<body>
<div th:replace="fragments/navbar :: navbar"></div>

<main class="container">

    <form th:action="@{/admin/questions}" method="get" style="display:flex;gap:6px;align-items:center;">
        <select name="category">
            <option value="">категория</option>
            <option th:each="c : ${categories}" th:value="${c}" th:text="${c.displayName}" th:selected="${c}==${selectedCategory}"></option>
        </select>

        <select name="difficulty">
            <option value="">сложность</option>
            <option th:each="d : ${difficulties}" th:value="${d}" th:text="${d}" th:selected="${d}==${selectedDifficulty}"></option>
        </select>

        <input type="search" name="search" th:value="${search}" placeholder="поиск">

        <button>ок</button>
        <a th:href="@{/admin/questions}">сброс</a>
    </form>

    <a th:href="@{/admin/add-question}" style="margin-left:auto;">добавить</a>

    <table>
        <tr><th>ID</th><th>Текст</th><th>Кат.</th><th>Сложн.</th><th></th></tr>

        <tr th:each="q : ${questions}">
            <td th:text="${q.id}"></td>
            <td th:text="${q.text}"></td>
            <td th:text="${q.category.displayName}"></td>
            <td th:text="${q.difficulty}"></td>
            <td>
                <a th:href="@{/admin/edit-question/{id}(id=${q.id})}">изменить</a>
                <form th:action="@{/admin/delete-question/{id}(id=${q.id})}" method="post" style="display:inline">
                    <button type="submit">удалить</button>
                </form>
            </td>
            </td>
        </tr>

    </table>

</main>

<footer th:replace="fragments/footer :: footer"></footer>
</body>
</html>
